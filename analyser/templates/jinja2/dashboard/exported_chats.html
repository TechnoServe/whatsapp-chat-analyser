{% extends "base_dashboard.html" %}

{% block css %}
<link rel="stylesheet" href="{{ static('node_modules/material-design-lite/material.min.css') }}" />
<link rel="stylesheet" href="{{ static('node_modules/parsleyjs/src/parsley.css') }}" />
<link rel="stylesheet" href="{{ static('node_modules/font-awesome/css/font-awesome.min.css') }}">

<link rel="stylesheet" href="{{ static('css/data_table.css') }}">
{% endblock %}

{% block main_content %}

<!-- section header -->
<div class="bg-white rounded clearfix p-3 mb-4">

    <div class='pull-left' style='width:50%;'>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb breadcrumb-sublime fs--13 pb-2">
            <li class="breadcrumb-item active" aria-current="page">
              Exported Chats
            </li>
          </ol>
        </nav>
    </div>
    
    <button type='button' class='btn btn-primary btn-soft pull-right refresh_files' data-toggle="modal" data-target="#process_files">Scan and Process New Files</button>

</div>
<!-- /section header -->

<div class="app-main__inner">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <table id='exported_chats' class='mdl-data-table mdl-js-data-table mdl-shadow--2dp compact stripe'>
                <thead>
                 
                  
                
                    <tr>
                        <th data-name='selector'>#</th>
                        <th data-name='filename'>Filename</th>
                        <th data-name='group_name'>Belongs To</th>
                        <th data-name='export_date'>Date Exported</th>
                        <th data-name='filesize'>Filesize</th>
                        <th data-name='status'>Status</th>
                        <th data-name='comments'>Comments</th>
                        <th data-name='actions'>Actions</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>
{% endblock %}

{% block modals %}
<div class="modal fade" id="process_files" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modal_title">Scan and process new files</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id='modal_message'>
        Are you sure you want to scan and process new files? This action can take a long process.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-danger btn-sm" data-dismiss="modal">Close</button>
        <button id='confirm_file_process' type="button" class="btn btn-outline-success btn-sm">Scan and Process</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block javascript %}
<script type='text/javascript' src="{{ static('plugins/datatables/datatables.min.js') }}"></script>
<script type='text/javascript' src="{{ static('node_modules/material-design-lite/material.min.js') }}"></script>
<script type='text/javascript' src="{{ static('node_modules/parsleyjs/dist/parsley.min.js') }}"></script>
<script type='text/javascript' src="{{ static('node_modules/micromodal/dist/micromodal.min.js') }}"></script>
<script type='text/javascript' src="{{ static('node_modules/jquery-form/dist/jquery.form.min.js') }}"></script>
<script type='text/javascript' src="{{ static('node_modules/jquery-validation/dist/jquery.validate.min.js') }}"></script>
<script type='text/javascript' src="{{ static('node_modules/bootstrap-notify/bootstrap-notify.js') }}"></script>
<script type='text/javascript' src="{{ static('js/datatable_pipeline.js') }}"></script>

<script>
    $(document).ready(function(){
        analyser.initiatePages();
    });
</script>
<script>
  alert('{{ message }}');
</script>


{% endblock %}
